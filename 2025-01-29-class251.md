---
title: Google AdMob Ads সার্ভার রেসপন্সের উপর ভিত্তি করে শো করা
author: Jihad
date: 2024-03-24 03:09:04 +0600
last_modified: 
modified: true
permalink: google-admob-ads.html
excerpt: 
categories: [Android Studio ]
tags: [ Android ]
image:
  path: https://cdn.jsdelivr.net/gh/hscbmt/img@main/admob.jpg
  alt: Google Admob Ads for app
---

আজকের এই ক্লাস থেকে আমরা শিখব কিভাবে সার্ভার থেকে একটি স্ট্রিং রেসপন্স চেক করে AdMob ব্যানার এডস শো বা হাইড করতে হয়। যদি সার্ভার রেসপন্সে `"showADS"` থাকে, তাহলে AdMob ব্যানার এডস শো করব। অন্যথায়, এডস হাইড করব।

---

### ধাপ 1: AdMob সেটআপ

1. **AdMob অ্যাকাউন্ট তৈরি করুন**: [AdMob](https://admob.google.com/) এ একটি অ্যাকাউন্ট তৈরি করুন এবং একটি নতুন অ্যাপ যোগ করুন।
2. **Ad Unit ID সংগ্রহ করুন**: AdMob থেকে একটি ব্যানার এডের জন্য `Ad Unit ID` সংগ্রহ করুন। এটি দেখতে এমন হবে: `ca-app-pub-3940256099942544/6300978111` (টেস্টিং এর জন্য)।

3. **AdMob ডিপেন্ডেন্সি যোগ করুন**: `build.gradle (Module: app)` ফাইলে নিচের ডিপেন্ডেন্সি যোগ করুন:

```gradle
dependencies {
    implementation 'com.google.android.gms:play-services-ads:22.4.0'
}
```

4. **ইন্টারনেট পারমিশন যোগ করুন**: `AndroidManifest.xml` ফাইলে ইন্টারনেট পারমিশন যোগ করুন:

```xml
<uses-permission android:name="android.permission.INTERNET" />
```

5. **AdMob অ্যাপ ID যোগ করুন**: `AndroidManifest.xml` ফাইলে AdMob অ্যাপ ID যোগ করুন:

```xml
<meta-data
    android:name="com.google.android.gms.ads.APPLICATION_ID"
    android:value="ca-app-pub-3940256099942544~3347511713"/> <!-- টেস্ট অ্যাপ ID -->
```

---

### ধাপ 2: সার্ভার থেকে রেসপন্স চেক করা

আমরা ভলি লাইব্রেরি ব্যবহার করে সার্ভার থেকে স্ট্রিং রেসপন্স চেক করব। যদি রেসপন্সে `"showADS"` থাকে, তাহলে AdMob ব্যানার এডস শো করব। অন্যথায়, এডস হাইড করব।

**সার্ভার PHP ফাইল (`test.php`):**

```php
<?php
echo "showADS"; // এই লাইন পরিবর্তন করে "showADS" বা অন্য কিছু রিটার্ন করুন
?>
```

---

### ধাপ 3: অ্যান্ড্রয়েড অ্যাপে ইমপ্লিমেন্টেশন

1. **লেআউট ফাইল (`activity_main.xml`):**

```xml
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <!-- AdMob Banner Ad -->
    <com.google.android.gms.ads.AdView
        android:id="@+id/adView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_alignParentBottom="true"
        ads:adSize="BANNER"
        ads:adUnitId="ca-app-pub-3940256099942544/6300978111"/> <!-- আপনার Ad Unit ID ব্যবহার করুন -->

    <!-- অন্যান্য UI কম্পোনেন্ট -->
    <TextView
        android:id="@+id/textView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true"
        android:text="Loading..."
        android:textSize="18sp" />
</RelativeLayout>
```

2. **MainActivity.java:**

```java
import android.os.Bundle;
import android.view.View;
import android.widget.TextView;
import androidx.appcompat.app.AppCompatActivity;
import com.android.volley.Request;
import com.android.volley.RequestQueue;
import com.android.volley.Response;
import com.android.volley.VolleyError;
import com.android.volley.toolbox.StringRequest;
import com.android.volley.toolbox.Volley;
import com.google.android.gms.ads.AdRequest;
import com.google.android.gms.ads.AdView;
import com.google.android.gms.ads.MobileAds;
import com.google.android.gms.ads.initialization.InitializationStatus;
import com.google.android.gms.ads.initialization.OnInitializationCompleteListener;

public class MainActivity extends AppCompatActivity {

    private TextView textView;
    private AdView adView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // UI কম্পোনেন্ট ইনিশিয়ালাইজ করুন
        textView = findViewById(R.id.textView);
        adView = findViewById(R.id.adView);

        // AdMob ইনিশিয়ালাইজ করুন
        MobileAds.initialize(this, new OnInitializationCompleteListener() {
            @Override
            public void onInitializationComplete(InitializationStatus initializationStatus) {
                // AdMob সফলভাবে ইনিশিয়ালাইজ হলে এই মেথড কল হবে
            }
        });

        // ভলি রিকুয়েস্ট কিউ তৈরি করুন
        RequestQueue queue = Volley.newRequestQueue(this);

        // সার্ভারের URL
        String url = "https://example.com/test.php";

        // স্ট্রিং রিকুয়েস্ট তৈরি করুন
        StringRequest stringRequest = new StringRequest(Request.Method.GET, url,
                new Response.Listener<String>() {
                    @Override
                    public void onResponse(String response) {
                        // সার্ভার থেকে রেসপন্স পেলে এই মেথড কল হবে
                        textView.setText(response);

                        // রেসপন্স চেক করুন
                        if (response.contains("showADS")) {
                            // AdMob ব্যানার এডস শো করুন
                            adView.setVisibility(View.VISIBLE);
                            AdRequest adRequest = new AdRequest.Builder().build();
                            adView.loadAd(adRequest);
                        } else {
                            // AdMob ব্যানার এডস হাইড করুন
                            adView.setVisibility(View.GONE);
                        }
                    }
                }, new Response.ErrorListener() {
                    @Override
                    public void onErrorResponse(VolleyError error) {
                        // কোনো এরর হলে এই মেথড কল হবে
                        textView.setText("Error: " + error.getMessage());
                    }
                });

        // রিকুয়েস্ট কিউতে রিকুয়েস্ট যোগ করুন
        queue.add(stringRequest);
    }
}
```

---

### ধাপ 4: অ্যাপ রান করুন

1. সার্ভার থেকে `"showADS"` রেসপন্স পেলে AdMob ব্যানার এডস শো হবে।
2. যদি সার্ভার রেসপন্সে `"showADS"` না থাকে, তাহলে AdMob ব্যানার এডস হাইড হবে।

---

### ব্যাখ্যা:

1. **AdMob সেটআপ**: AdMob ব্যানার এডস ব্যবহার করার জন্য প্রয়োজনীয় সেটআপ করা হয়েছে।
2. **ভলি রিকুয়েস্ট**: ভলি লাইব্রেরি ব্যবহার করে সার্ভার থেকে স্ট্রিং রেসপন্স চেক করা হয়েছে।
3. **রেসপন্স চেক**: সার্ভার রেসপন্সে `"showADS"` থাকলে AdMob ব্যানার এডস শো করা হয়েছে, অন্যথায় হাইড করা হয়েছে।

এই গাইডটি অনুসরণ করে আপনি সহজেই সার্ভার রেসপন্সের উপর ভিত্তি করে AdMob এডস শো বা হাইড করতে পারবেন।
